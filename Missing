<?php
/**
 * Plugin Name: Missing Product WooCommerce Alternative
 * Description: Handles missing items, alternatives, and customer responses for WooCommerce orders.
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit;
}

/**
 * Display a notice when WooCommerce is not available.
 */
function lp_missing_product_requires_wc_notice() {
    echo '<div class="notice notice-error"><p>' . esc_html__( 'Missing Product WooCommerce Alternative requires WooCommerce to be active.', 'lp-missing' ) . '</p></div>';
}

/**
 * Bootstrap the plugin after WooCommerce has loaded.
 */
function lp_missing_product_bootstrap() {
    if ( ! class_exists( 'WooCommerce' ) || ! class_exists( 'WC_Email' ) ) {
        add_action( 'admin_notices', 'lp_missing_product_requires_wc_notice' );
        return;
    }

    require_once __DIR__ . '/missing-core.php';
}
add_action( 'plugins_loaded', 'lp_missing_product_bootstrap', 20 );
